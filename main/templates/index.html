{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'styles/main.css' %}">
{% endblock %}

{% block content %}

<div class="side-panel">
  <h3>Control Panel</h3>
  {% if request.session.user_id %}

    <!-- Reservation Section -->
  <div id="reservation-section">
    <h4>Desk Reservation</h4>
    <p id="selectedDesk">No desk selected</p>
    <div id="statusMessage" class="status-message" aria-live="polite" role="status" style="display:none;"></div>

    <div id="reservationActions" style="display:none; margin-bottom:45px;">
      <button id="pairBtn">Pair (Now)</button>
      <button id="unpairBtn" disabled>Unpair</button>
      <button id="showBooking">Book for Later</button>

      <div id="bookingForm" style="display:none; margin-top:15px; margin-bottom:15px;">
        <label for="bookStart">Start:</label>
        <input type="datetime-local" id="bookStart">

        <label for="bookEnd">End:</label>
        <input type="datetime-local" id="bookEnd">

        <button id="bookBtn">Book</button>
        <button id="cancelBooking">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Height Control -->
  <div class="panel-section">
    <label for="heightSlider">Desk Height: <span id="heightValue">100</span> cm</label>
    <input type="range" id="heightSlider" min="50" max="160" value="65" step="1">
  </div>

  <!-- Saved Configurations -->
  <div class="panel-section">
    <h4>Saved Configurations</h4>
    <select id="configSelect">
      <option value="">-- Select Configuration --</option>
      <option value="morning">Morning Work</option>
      <option value="standing">Standing Mode</option>
      <option value="break">Break Mode</option>
    </select>
    <button id="loadConfig">Load</button>
  </div>

  <!-- Quick Profiles -->
  <div class="panel-section">
    <h4>Quick Profiles</h4>
    <button class="profile-btn" data-height="70">Profile 1</button>
    <button class="profile-btn" data-height="100">Profile 2</button>
    <button class="profile-btn" data-height="120">Profile 3</button>
  </div>

  <!-- Health Recommendations Toggle -->
  <div class="panel-section">
    <label>
      <input type="checkbox" id="toggleHealth" checked>
      Show Health Recommendations
    </label>
  </div>
</div>
{% endif %}
<!-- Main Grid -->
<div class="grid-container">
  <img src="{% static 'Assets/este.jpg' %}" alt="Background" class="background-image">

  <button class="btn btn1">1</button>
  <button class="btn btn2">2</button>
  <button class="btn btn3">3</button>
  <button class="btn btn4">4</button>
  <button class="btn btn5">5</button>
  <button class="btn btn6">6</button>
  <button class="btn btn7">7</button>
  <button class="btn btn8">8</button>
  <button class="btn btn9">9</button>
  <button class="btn btn10">10</button>
  <button class="btn btn11">11</button>
  <button class="btn btn12">12</button>
  <button class="btn btn13">13</button>
</div>

<!-- === Health Popup === -->
<div id="healthPopup" class="health-popup">
  <div class="popup-header">
    <h4 class="popup-title">ðŸ’¡ Health Recommendation</h4>
  </div>
  <p id="healthMessage">ðŸ’¡ Health tip will appear here</p>
  <div class="popup-buttons">
    <button id="acceptBtn">Accept</button>
    <button id="ignoreBtn">Ignore</button>
  </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'script/desk.js' %}"></script>
{% endblock %}
